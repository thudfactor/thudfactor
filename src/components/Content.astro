---
import FormattedDate from "./FormattedDate.astro";
const { title, date, updatedDate, cover } = Astro.props;
---

<style>
	@layer content {
		.hero-image {
			img {
				width: 100%;
				height: auto;
			}

			p {
				font-size: var(--font-size-1);
				color: var(--stone-8);
			}
		}
	}
</style>
<article>
	<div class="title">
		<small class="date">
			{date && <FormattedDate date={date} />}
			{
				updatedDate && date !== updatedDate && (
					<span>
						â€¢ Updated <FormattedDate date={updatedDate} />
					</span>
				)
			}
		</small>
		<h1>{title}</h1>
	</div>

	{
		cover && (
			<div class="hero-image">
				<img width={1020} height={510} src={cover.src.src} alt={cover.alt} />
				<p>
					<b>Above: </b>
					{cover.description}
				</p>
				{cover.attribution && (
					<p>
						<b>Image credit: </b>
						{cover.attribution.link && (
							<a href={cover.attribution.link}>{cover.attribution.name}</a>
						)}
						{!cover.attribution.link && cover.attribution.name && (
							<span>{cover.attribution.name}</span>
						)}
						{cover.attribution.license && (
							<a href={cover.attribution.license.link}>{cover.attribution.license.name}</a>
						)}
					</p>
				)}
			</div>
		)
	}
	<div class="prose">
		<slot />
	</div>
</article>
