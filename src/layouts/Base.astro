---
import Page from '@components/Page.astro';
import MainNav from '@components/MainNav.astro';
import { SITE_TITLE, SITE_VALUE_STATEMENT } from '../consts';

const { title, description } = Astro.props;
const today = new Date();
---
<style>
  @layer theme {
    #Home {
      font-size: 1.5em;
      font-weight: bold;
  	}
  }
  @layer layout {
    #base-grid {
      max-width: 1020px;
      margin: 0 auto;

      display: grid;
      grid-template-columns: 240px 3fr;
      grid-template-rows: auto auto 1fr auto;

      > * {
        padding: 8px;
      }
    }

    header[role="banner"] {
      text-align: center;
      grid-column: 1/3;
      grid-row: 1;

      @media (min-width: 768px) {
        grid-row: 1/3;
      }
  	}

    #main-sidebar {
      border: 0 #aaa solid;
      border-bottom-width: 1px;
      grid-row: 2;
      grid-column: 1/3;
      container-type: inline-size;

      @media (min-width: 768px) {
        grid-column: 1/2;
        grid-row: 3/4;
        border-bottom-width: 0;
        border-right-width: 1px;
        padding-left: 16px;
      }

    }

    main {
      border: 0 #aaa solid;
      border-top-width: 1px;
      border-bottom-width: 1px;
      grid-column: 1/3;
      grid-row: 3;
      display: block;
      background-color: #f0f0f0;

      @media (min-width: 768px) {
        grid-column: 2/3;
      }
    }

    footer {
      grid-column: 1/3;
      grid-row: 4;
      text-align: center;
    }
  }
  @layer components {
    main {
      padding: 19px;
    }
  }
</style>
<Page title={title} description={description}>
  <div id="base-grid">
    <header role="banner">
      <a id="Home" href="/">{SITE_TITLE}: {SITE_VALUE_STATEMENT}</a>
    </header>
    <section id="main-sidebar">
      <MainNav />
      <slot name="sidebar" />
    </section>
    <main>
      <slot />
    </main>
    <footer>
      &copy; 2023â€”{today.getFullYear()} J H Williams. All rights reserved.
    </footer>
  </div>
</Page>
