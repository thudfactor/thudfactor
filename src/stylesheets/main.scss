@use 'reset';
@use 'under-construction';

:root {
  // Color scheme
  --lightest: hsl(60 70% 95%);
  --darkest: hsl(80 20% 10%);

  --baseFont: clamp(1rem, 2vw, 1.8rem);
  --scan-length: 75ch;
  --article-lh: 1.5;

  // Spacing
  --gutter: .5rem;

  --c-fg: var(--darkest);
  --c-bg: var(--lightest);

  @media (prefers-color-scheme: dark) {
    --c-fg: var(--lightest);
    --c-bg: var(--darkest);

    a {
      &:link, &:visited {
        color: hsl(60 100% 50%);
      }
      &:hover, &:active {
        color: hsl(45, 100%, 50%);
      }
    }
  }
}

body {
  background-color: var(--c-bg);
  color:  var(--c-fg);
  font-family: "Inter", sans-serif;
  display: grid;
  grid-template-rows: min-content auto min-content;
}

.constrain {
  width: 100%;
  max-width: var(--scan-length);
}

.center-h {
  margin-inline: auto;
}

.always-dark {
  --darkest: hsl(260, 50%, 5%);
  color: var(--lightest);
  background-color: var(--darkest);

  a {
    color: var(--lightest);
    text-decoration: none;
    font-weight: 700;
    text-shadow: 1px 1px 0 black;

    &:hover {
      text-decoration: underline;
    }
  }
}

header {
  padding: var(--gutter);
  font-size: var(--baseFont);

  > div {
    display: flex;
    justify-content: space-between;
  }

  nav {
    ul {
      list-style: none;
      display: flex;
      gap: 1rem;
    }
  }
}

main {
  padding: var(--gutter);
}

header {
  display: flex;
  justify-content: space-between;
}

footer {
  text-align: center;
  padding: var(--gutter);
}

article {
  --paragraph-margin: calc(1.3rem * var(--article-lh));
  --text-offset: calc(((1em * var(--article-lh)) - 1em) / 2);
  font-size: clamp(1rem, 2vw, 1.8rem);
  line-height: var(--article-lh);

  p {
    margin: var(--paragraph-margin) 0;
    font-weight: 500;
  }

  figure {
    max-width: 100%;
    
    img {
      width: 100%;
      max-width: none;
      height: auto;
    }

    figcaption {
      font-size: 1rem; 
      background-color: var(--darkest);
      color: var(--lightest);
      padding: 1rem;
    }
  }

  @media (min-width: 640px) {
    figure {
      &.right, &.left {
        max-width: calc(var(--scan-length) * .41);  
      }
      &.right {
        float: right;
        margin: calc(var(--paragraph-margin) + var(--text-offset)) 0 2ch 2ch;
      }
      &.left {
        float: left;
      }
    }
  }
}


