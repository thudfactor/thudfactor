---
import MainNavLink from "@components/MainNavLink.astro";
---

<style>
	@layer components {
		ul {
			list-style: none;
			padding: 0;
			margin: 0 auto;
			display: flex;
			justify-content: center;
			align-items: center;
			gap: 16px;
		}

		li {
			line-height: 1;
		}

		li:has([aria-current="page"]) {
			background-color: var(--color-article-background);
			border: 1px solid oklch(from var(--color-text) l c h / 0.5);
			border-width: 1px;
			padding: var(--spacing);
			border-radius: 8px;
			margin-left: calc(-1 * var(--spacing) + 1px);
		}

		button {
			all: unset;
		}

		#settings-button {
			padding: 0;
			background: none;
			border: none;
			color: var(--color-text);
			cursor: pointer;
			font-size: 1rem;
			line-height: 1;
			font-weight: bold;
			display: flex;
			align-items: center;
			gap: 0.3rem;

			&:hover {
				.gear {
					transform: rotate(360deg);
				}
			}

			.gear {
				font-size: 1.5rem;
				display: block;
				transition: transform 5s ease-in-out;
			}
		}

		@media (min-width: 768px) {
			ul {
				flex-direction: column;
				justify-content: flex-start;
				align-items: stretch;
				gap: var(--spacing);
			}

			li {
				padding: var(--spacing);

				&:has([aria-current="page"]) {
					margin-right: -1px;
					border-width: 1px 0 1px 1px;
					border-radius: 8px 0 0 8px;
					padding-left: calc(var(--spacing) + 6px);
				}
			}
		}
	}
</style>

<nav aria-labeledby="main-nav-label">
	<div class="sr-only" id="main-nav-label">Main Navigation</div>
	<ul>
		<li><MainNavLink href="/">Home</MainNavLink></li>
		<li><MainNavLink href="/posts">Blog</MainNavLink></li>
		<li><MainNavLink href="/about">About</MainNavLink></li>
		<li><MainNavLink href="/now">Now</MainNavLink></li>
		<li><MainNavLink href="/using">Using</MainNavLink></li>
		<li><button id="settings-button"><span class="gear">â›­</span> Settings</button></li>
	</ul>
</nav>
