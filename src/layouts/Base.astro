---
import Page from '@components/Page.astro';
import HeaderLink from '@components/HeaderLink.astro';
import { SITE_TITLE, SITE_VALUE_STATEMENT } from '../consts';

const { title, description } = Astro.props;
const today = new Date();
---
<style>
  @layer theme {
    #Home {
      font-size: 1.5em;
      font-weight: bold;
  	}
  }
  @layer layout {
    #base-grid {
      max-width: 1020px;
      margin: 0 auto;

      display: grid;
      grid-template-columns: 240px 3fr;
      grid-template-rows: auto auto 1fr auto;

      > * {
        padding: 8px;
      }
    }

    header[role="banner"] {
      text-align: center;
      grid-column: 1/5;
      grid-row: 1/2;
      border-bottom: 1px #aaa solid;
  	}

    #main-sidebar {
      grid-column: 1/2;
      grid-row: 2/3;
      border-right: 1px #aaa solid;
    }

    main {
      display: block;
      grid-column: 2/3;
      grid-row: 2/3;
      background-color: #f0f0f0;
    }

    footer {
      border-top: 1px #aaa solid;
      text-align: center;
      grid-column: 1/3;
      grid-row: 3/4;
    }
  }
  @layer components {
    main {
      padding: 16px;
    }
  }
</style>
<Page title={title} description={description}>
  <div id="base-grid">
    <header role="banner">
      <nav>
        <a id="Home" href="/">{SITE_TITLE}: {SITE_VALUE_STATEMENT}</a>
      </nav>
    </header>
    <section id="main-sidebar">
      <nav aria-labeledby="main-nav-label">
        <div id="main-nav-label">Main Navigation</div>
        <ul>
          <li><HeaderLink href="/">Home</HeaderLink></li>
          <li><HeaderLink href="/posts">Blog</HeaderLink></li>
          <li><HeaderLink href="/about">About</HeaderLink></li>
          <li><HeaderLink href="/now">Now</HeaderLink></li>
          <li><HeaderLink href="/using">Using</HeaderLink></li>
        </ul>
      </nav>
      <slot name="sidebar" />
    </section>
    <main>
      <slot />
    </main>
    <footer>
      &copy; 2023â€”{today.getFullYear()} J H Williams. All rights reserved.
    </footer>
  </div>
</Page>
